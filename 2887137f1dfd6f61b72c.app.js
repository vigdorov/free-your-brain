(self.webpackChunkfree_your_brain=self.webpackChunkfree_your_brain||[]).push([[143],{7918:(e,t,n)=>{"use strict";var r,a,o,i,c,u,l=n(7294),s=n(3935),d=n(5513),f=n(6709),m=n(1120),p=n(7623),h=n(7369),v=n(3832);!function(e){e.Progress="progress",e.Removed="removed",e.Done="done"}(r||(r={})),function(e){e.Project="project",e.Information="information"}(a||(a={})),function(e){e.Main="",e.ChaosBox="chaos-box",e.Projects="projects",e.Information="information",e.Tags="tags",e.Calendar="calendar",e.Settings="settings",e.SigIn="sign-in"}(o||(o={})),function(e){e.AcUnit="acUnit",e.Apple="apple",e.Apartment="apartment"}(i||(i={})),function(e){e.TaskList="taskList",e.FolderList="folderList",e.TagList="tagList"}(c||(c={}));var g="/chaos-box",y="/projects",b="/information",E="/tags",Z="/calendar",k="/settings",w="/sign-in",T=((u={})[o.Main]="Free your brain",u[o.ChaosBox]="Chaos box",u[o.Calendar]="Calendar",u[o.Information]="Information",u[o.Tags]="Tags",u[o.Projects]="Projects",u[o.Settings]="Settings",u[o.SigIn]="SigIn",u),A=n(6486),C=n(9603),O=n(6884);function S(e,t){var n=(0,l.useState)(O.Ot),r=n[0],a=n[1];return(0,l.useEffect)((function(){a(O.Ot)}),t),(0,l.useEffect)((function(){var t=e(),n={event:function(e,t){a(t)},end:A.noop,error:A.noop},r=t.run(n,(0,C.e4)());return function(){r.dispose()}}),t),r}var _,x,j=n(4586),I=n(2305),P=n(8571),L=n(9613),F=[{id:(0,j.Z)(),status:r.Progress,created_at:"2021-03-01T13:00+03:00",title:"Первая таска",body:"Описание таски"},{id:(0,j.Z)(),status:r.Progress,created_at:"2021-03-01T13:00+03:00",title:"Вторая таска",body:"Описание таски"},{id:(0,j.Z)(),status:r.Progress,created_at:"2021-03-01T13:00+03:00",title:"Третья таска",body:"Описание таски"}],N=function(e,t){var n=(0,P.Uh)(),r=n[0],a=n[1],o=e;return{stream$:(0,L.z)(a,(0,I.O4)(e)),actions:Object.entries({}).reduce((function(e,t){var n=t[0],a=t[1];return e[n]=function(e){o=a(o,e),r(o)},e}),{}),initialState:e}}((_=F,x="FYB_TASK_STORAGE",localStorage.getItem(x)||localStorage.setItem(x,JSON.stringify(_)),{set:function(e){return localStorage.setItem(x,JSON.stringify(e)),e},get:function(){var e=localStorage.getItem(x)||"";try{return JSON.parse(e)}catch(e){return _}}}).get()),$=n(2822),z=n(998),M=n(6869),U=n(5757),V=n(293);const W=(0,l.memo)((function(){var e=function(e,t){var n=(0,l.useState)(),r=n[0],a=n[1];return(0,l.useEffect)((function(){a(void 0)}),t),(0,l.useEffect)((function(){var e=N.stream$,t={event:function(e,t){a(t)},end:A.noop,error:A.noop},n=e.run(t,(0,C.e4)());return function(){n.dispose()}}),t),r}(0,[]);return l.createElement($.Z,{component:"nav","aria-label":"main mailbox folders"},null==e?void 0:e.map((function(e){var t,n;return l.createElement(z.Z,{button:!0,key:e.id},l.createElement(M.Z,null,l.createElement(V.Z,null)),l.createElement(U.Z,{primary:null!==(t=e.title)&&void 0!==t?t:"Нет темы",secondary:null!==(n=e.body)&&void 0!==n?n:"Нет Описания"}))})))})),B=l.createElement(f.AW,{component:W,path:"/",exact:!0}),R=(0,l.memo)((function(){return l.createElement("div",null,"chaos-box")})),D=l.createElement(f.AW,{component:R,path:g,exact:!0}),G=(0,l.memo)((function(){return l.createElement("div",null,"calendar")})),K=l.createElement(f.AW,{component:G,path:Z,exact:!0});var q,H,J,X,Y=n(902),Q=[{id:"33",name:"Tag",color:"#2fc036"},{id:"66",name:"Tag",color:"#2fc036"},{id:"77",name:"Tag",color:"#2fc036"},{id:"22",name:"Tag",color:"#2fc036"}],ee=[{id:"4",name:"Folder 1",type:a.Information},{id:"6",name:"Folder 34",type:a.Information},{id:"7",name:"Folder ffd",type:a.Information},{id:"73",name:"Folder ffd",type:a.Information,folder:"7"}],te=[{id:(0,j.Z)(),title:"Title number 1",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"4"},{id:(0,j.Z)(),title:"Title number 2",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"4"},{id:(0,j.Z)(),title:"Title number 3",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"6"},{id:(0,j.Z)(),title:"Title number 4",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,tags:Q.map((function(e){return e.id}))},{id:(0,j.Z)(),title:"Title number 5",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress},{id:(0,j.Z)(),title:"Title number 6",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress},{id:(0,j.Z)(),title:"Title number 7",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"4"},{id:(0,j.Z)(),title:"Title number 8",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"4"},{id:(0,j.Z)(),title:"Title number 9",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"7"},{id:(0,j.Z)(),title:"Title number 10",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"7"},{id:(0,j.Z)(),title:"Title number 11",body:"Description",created_at:"2019-01-01T13:00",icon:i.Apple,status:r.Progress,folder:"73"}],ne=((q={})[c.TaskList]=te,q[c.FolderList]=ee,q[c.TagList]=Q,q),re=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},ae=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};!function(e){e.ReadOnly="readonly",e.ReadWrite="readwrite",e.VersionChange="versionchange"}(H||(H={})),function(e){e.Success="success",e.Error="error",e.UpgradeNeeded="upgradeneeded",e.Blocked="blocked"}(J||(J={})),function(e){e.Success="success",e.Error="error"}(X||(X={}));var oe=function(e){return new Promise((function(t,n){e.addEventListener(X.Success,(function(){t(e.result)})),e.addEventListener(X.Error,(function(){n(e.error)}))}))},ie=function(e,t){var n=function(e,t){return function(n){return re(void 0,void 0,void 0,(function(){return ae(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return[2,r.sent().transaction(t,n).objectStore(t)]}}))}))}}(e,t);return{getAll:function(){return re(void 0,void 0,void 0,(function(){var e;return ae(this,(function(t){switch(t.label){case 0:return[4,n(H.ReadOnly)];case 1:return e=t.sent(),[2,oe(e.getAll())]}}))}))},add:function(e){return re(void 0,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:return[4,n(H.ReadWrite)];case 1:return t=r.sent(),[2,oe(t.add(e))]}}))}))},put:function(e){return re(void 0,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:return[4,n(H.ReadWrite)];case 1:return t=r.sent(),[2,oe(t.put(e))]}}))}))},delete:function(e){return re(void 0,void 0,void 0,(function(){var t;return ae(this,(function(r){switch(r.label){case 0:return[4,n(H.ReadWrite)];case 1:return t=r.sent(),[2,oe(t.delete(e))]}}))}))}}},ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ue=function(e){return(0,L.z)(e,(0,I.UI)((function(e){return(0,O.Vp)(e)})),(0,I.O4)(O.Ot),(0,I.NS)((function(e){return(0,I.zO)((0,O.Rn)(e))})))},le=function(e){return(t=e,Object.entries(t)).reduce((function(e,t){var n,r=t[0],a=t[1];return ce(ce({},e),((n={})[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,I.p4)(a.apply(void 0,e));return ue(n)},n))}),{});var t},se=[c.TaskList,c.FolderList,c.TagList],de=function(e){var t=e.dbName,n=e.version,r=e.onUpdate,a=e.onBlocked,o=indexedDB.open(t,n);return new Promise((function(e,t){o.addEventListener(J.Success,(function(){e(o.result)})),o.addEventListener(J.Error,(function(){t(o.error)})),o.addEventListener(J.UpgradeNeeded,(function(){r(o.result)})),o.addEventListener(J.Blocked,(function(){null==a||a(o.result)}))}))}({dbName:"FYB",version:1,onUpdate:function(e){e.version,se.forEach((function(t){var n=e.createObjectStore(t,{keyPath:"id"});ne[t].forEach((function(e){n.add(e)}))}))}}),fe={taskList:le(ie(de,c.TaskList)),folderList:le(ie(de,c.FolderList)),tagList:le(ie(de,c.TagList))},me=n(576),pe=function(e,t){return(0,O.g_)((function(){return l.createElement("div",null,"Initial")}),(function(){return l.createElement("div",null,"Pending")}),(function(e){return l.createElement("div",null,""+e)}),(function(e){return t(e)}))(e)},he=function(e){return function(t){return(0,me.zG)(t,(0,I.bw)((function(t){return(0,O.UI)(e)(t)})))}},ve=function(e){return function(t){return(0,me.zG)(t,(0,I.tS)((function(t){return(0,O.d6)(t)?e(t.value):(0,I.zO)(t)})))}};function ge(e){return!function(e){return null==e}(e)}var ye=function(e){return(0,A.isString)(e)?!!(null==e?void 0:e.trim()):Array.isArray(e)?!!e.length:!(0,A.isNaN)(e)&&(!!(0,A.isNumber)(e)||(function(e){return ge(e)&&!Array.isArray(e)&&!(0,A.isNaN)(e)&&"object"==typeof e}(e)?!function(e){return!Object.keys(null!=e?e:{}).length}(e):ge(e)))},be=function(){return(be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ee="__root__",Ze=function(e,t){var n=t[e];if(ye(n))return(0,A.sortBy)(n,["type"]).map((function(e){if("type"in e){var n=Ze(e.id,t);return be(be({},n?{children:n}:{}),{data:e})}return{data:e}}))},ke=n(6037),we=n(5025),Te=n(4566),Ae=n(2093);const Ce=(0,l.memo)((function(e){var t=e.item,n=e.className,r=e.space,a=e.openFolderIds,o=e.onFolderClick,i=(0,l.useMemo)((function(){return a.some((function(e){return e===t.data.id}))}),[a,t.data.id]),c=(0,l.useMemo)((function(){return ye(t.children)}),[t.children]),u=(0,l.useCallback)((function(){o(t.data.id)}),[o,t.data.id]);return l.createElement(l.Fragment,null,l.createElement(z.Z,{className:n,button:!0,onClick:u},l.createElement(M.Z,null,l.createElement(Ae.Z,null)),l.createElement(U.Z,{primary:t.data.name}),c&&(i?l.createElement(we.Z,null):l.createElement(Te.Z,null))),c&&l.createElement(ke.Z,{in:i,timeout:"auto",unmountOnExit:!0},l.createElement(xe,{list:t.children,space:r+1})))}));var Oe=n(502);const Se=(0,l.memo)((function(e){var t=e.item,n=e.className;return l.createElement(z.Z,{button:!0,className:n},l.createElement(M.Z,null,l.createElement(Oe.Z,null)),l.createElement(U.Z,{primary:t.data.title}))}));var _e=(0,m.Z)((function(e){return(0,p.Z)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:function(t){var n=t.space;return{paddingLeft:e.spacing(4*n)}}})}));const xe=(0,l.memo)((function(e){var t=e.list,n=e.space,r=(0,l.useState)([]),a=r[0],o=r[1],i=(0,l.useCallback)((function(e){o((0,A.xor)(a,[e]))}),[o,a]),c=_e({space:n});return l.createElement($.Z,{component:"div",className:c.root},null==t?void 0:t.map((function(e){return l.createElement(l.Fragment,{key:e.data.id},function(e){return"type"in e.data}(e)&&l.createElement(Ce,{item:e,className:c.nested,space:n,openFolderIds:a,onFolderClick:i}),function(e){return"status"in e.data}(e)&&l.createElement(Se,{item:e,className:c.nested}))})))}));var je=(0,I.$e)((function(e,t){return(0,Y.pipe)((0,O.$e)(e,t),(0,O.UI)((function(e){var t=e[0],n=e[1];return Ze(Ee,function(e,t){var n,r=((n={}).__root__=[],n),a=e.reduce((function(e,t){var n;return be(be({},e),((n={})[t.id]=[],n))}),r);return e.forEach((function(e){var t,n,r,o=null!==(t=e.folder)&&void 0!==t?t:Ee;null===(r=null!==(n=a[o])&&void 0!==n?n:a.__root__)||void 0===r||r.push(e)})),t.forEach((function(e){var t,n,r,o=null!==(t=e.folder)&&void 0!==t?t:Ee;null===(r=null!==(n=a[o])&&void 0!==n?n:a.__root__)||void 0===r||r.push(e)})),a}(n,t))})))}),fe.taskList.getAll(),fe.folderList.getAll());const Ie=(0,l.memo)((function(){var e=S((function(){return je}),[]);return l.createElement(l.Fragment,null,pe(e,(function(e){return l.createElement(xe,{list:e,space:1})})))})),Pe=l.createElement(f.AW,{component:Ie,path:b,exact:!0}),Le=(0,l.memo)((function(){return l.createElement("div",null,"projects")})),Fe=l.createElement(f.AW,{component:Le,path:y,exact:!0}),Ne=(0,l.memo)((function(){return l.createElement("div",null,"settings")})),$e=l.createElement(f.AW,{component:Ne,path:k,exact:!0}),ze=(0,l.memo)((function(){return l.createElement("div",null,"sign-in")})),Me=l.createElement(f.AW,{component:ze,path:w,exact:!0});var Ue,Ve=n(9669),We=n.n(Ve);!function(e){e.Get="get",e.Delete="delete",e.Head="head",e.Options="options",e.Post="post",e.Put="put",e.Patch="patch"}(Ue||(Ue={}));var Be=function(e){return function(e){return t=void 0,n=void 0,a=function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){switch(t.label){case 0:return[4,We().request(e)];case 1:return[2,t.sent().data]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{u(a.next(e))}catch(e){o(e)}}function c(e){try{u(a.throw(e))}catch(e){o(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}u((a=a.apply(t,n||[])).next())}));var t,n,r,a}(e)},Re=function(e){return function(t,n){return Be({method:e,url:t,params:n})}},De=function(e){return function(t,n,r){return Be({method:e,url:t,params:n,data:r})}},Ge={get:Re(Ue.Get),delete:Re(Ue.Delete),head:Re(Ue.Head),options:Re(Ue.Options),post:De(Ue.Post),put:De(Ue.Put),patch:De(Ue.Patch)},Ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},qe=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},He="https://reqres.in/api/users",Je=le({request:function(){return Ke(void 0,void 0,void 0,(function(){return qe(this,(function(e){switch(e.label){case 0:return[4,Ge.get(He)];case 1:return[2,e.sent().data]}}))}))},findById:function(e){return Ke(void 0,void 0,void 0,(function(){return qe(this,(function(t){switch(t.label){case 0:return[4,Ge.get(He+"/"+e)];case 1:return[2,t.sent().data]}}))}))}}),Xe=n(5815),Ye=n(3258),Qe=function(e){var t=e,n=(0,P.Uh)(),r=n[0],a=n[1];return{next:function(e){t=e,r(e)},stream$:(0,Xe.K)(a),getValue:function(){return t}}},et=function(){return(et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},tt=function(){function e(){var e=this;this.cache=new Map,this.allSubject$=Qe(void 0),this.isInTransaction=!1,this.hasChanges=!1,this._keys$=Qe([]),this.keys$=this._keys$.stream$,this.values$=(0,L.z)(this.allSubject$.stream$,(0,I.UI)((function(){return Array.from(e.cache.values()).filter(nt).map((function(e){return e.subject.getValue()}))}))),this.entries$=(0,L.z)(this.allSubject$.stream$,(0,I.UI)((function(){return Array.from(e.cache.entries()).filter(rt).map((function(e){return[e[0],e[1].subject.getValue()]}))})),Xe.K),this.handleKeys=function(t){return e._keys$.next(t)}}return Object.defineProperty(e.prototype,"size",{get:function(){return this.cache.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this.cache.has(e)},e.prototype.get=function(e){return this.getOrCreateCached(e).stream},e.prototype.getValue=function(e){if(this.cache.has(e)){var t=this.cache.get(e);if(ye(t)&&t.hasValue)return t.subject.getValue()}},e.prototype.set=function(e,t){var n=this;this.transaction((function(){var r,a=n.cache.has(e),o=n.getOrCreateCached(e);!1===o.hasValue&&(o=et(et({},r=o),{subject:r.subject,hasValue:!0}),n.cache.set(e,o),a||n.handleKeys(Array.from(n.cache.keys()))),o.subject.getValue()!==t&&(o.subject.next(t),n.hasChanges=!0)}))},e.prototype.setMany=function(e){var t=this;this.transaction((function(){e.forEach((function(e){var n=e[0],r=e[1];t.set(n,r)}))}))},e.prototype.transaction=function(e){this.isInTransaction?e():(this.isInTransaction=!0,e(),this.hasChanges&&(this.hasChanges=!1,this.allSubject$.next(void 0)),this.isInTransaction=!1)},e.prototype.delete=function(e){var t=this;this.transaction((function(){var n=t.cache.has(e);t.cache.delete(e),n&&t.handleKeys(Array.from(t.cache.keys())),t.hasChanges=!0}))},e.prototype.deleteMany=function(e){var t=this;this.transaction((function(){e.forEach((function(e){t.delete(e)}))}))},e.prototype.clear=function(){var e=this;this.transaction((function(){e.cache.clear(),e.handleKeys(Array.from(e.cache.keys())),e.hasChanges=!0}))},e.prototype.getOrCreateCached=function(e){var t=this.cache.get(e);if(t)return t;var n=Qe(void 0),r={hasValue:!1,subject:n,stream:(0,L.z)(n.stream$,(0,I.hX)(ye),I.bA)};return this.cache.set(e,r),r},e}();function nt(e){return e.hasValue}function rt(e){return nt(e[1])}var at=new(function(){function e(){var e=this;this.cache=new tt,this.cachedStreams=new Map,this.hasLoadedAll=!1,this.isLoadingAll=!1,this._getAllValues$=(0,L.z)(this.cache.values$,(0,I.hX)((function(){return!e.isLoadingAll&&e.hasLoadedAll})),(0,I.UI)((function(e){return e.filter((function(e){return(0,O.d6)(e)}))})),(0,I.UI)(Ye.array.sequence(O.$w)),I.bA,Xe.K),this.keys$=this.cache.keys$}return Object.defineProperty(e.prototype,"allValues$",{get:function(){return this._getAllValues$},set:function(e){this._getAllValues$=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e,t){var n=this.cachedStreams.get(e);if(!ye(n)){var r=this.cache.has(e),a=this.cache.getValue(e),o=ye(a)&&(0,O.d6)(a);if(r&&o)return this.cache.get(e);n=(0,L.z)(t(),Xe.K),this.cachedStreams.set(e,n)}return n},e.prototype.getAll=function(e,t,n){var r,a=this;return this.isLoadingAll=!1,(0,L.z)(t(),he((function(t){a.hasLoadedAll=!0,a.updateCache(t,e)})),(0,I.tS)((function(e){return a.cache.values$.run({event:A.noop,end:A.noop,error:A.noop},(0,C.e4)()),(0,O.d6)(e)?a._getAllValues$:(0,I.zO)(e)})),I.bA,(r=function(e){if(void 0===n)return e;var t=!1,r=e.filter((function(e){var r=n(e);return r||(t=!0),r}));return t?r:e},function(e){return(0,me.zG)(e,(0,I.UI)((function(e){return(0,O.UI)(r)(e)})))}),Xe.K)},e.prototype.remove=function(e,t,n,r){var a=this;return void 0===r&&(r=!0),r&&this.cache.delete(e),(0,L.z)(n(),he((function(e){a.updateCache(e,t)})),(0,I.tS)((function(){return a._getAllValues$})))},e.prototype.create=function(e,t){var n=this;return(0,L.z)(t(),ve((function(t){var r=e(t);return n.cache.set(r,(0,O.Vp)(t)),n.cache.get(r)})))},e.prototype.update=function(e,t){var n=this;return(0,L.z)(t(),(0,I.bw)((function(t){(0,O.d6)(t)&&n.cache.set(e,t)})))},e.prototype.updateCache=function(e,t){var n=e.map((function(e){return[t(e),(0,O.Vp)(e)]}));this.cache.setMany(n)},e}());const ot=(0,l.memo)((function(e){var t=e.userId,n=S((function(){var e=t.toString();return at.get(e,(function(){return Je.findById(e)}))}),[t]);return l.createElement(l.Fragment,null,pe(n,(function(e){return l.createElement("div",{key:e.id},e.first_name,", ",e.last_name,l.createElement("span",null,l.createElement(d.rU,{to:"/tags/"+e.id}," More info...")))})))})),it=(0,l.memo)((function(){var e=S((function(){return Je.request()}),[]);return l.createElement(l.Fragment,null,l.createElement("div",null,"tags",pe(e,(function(e){return null==e?void 0:e.map((function(e){return l.createElement(ot,{userId:e.id,key:e.id})}))}))),l.createElement("div",null,"tags",pe(e,(function(e){return null==e?void 0:e.map((function(e){return l.createElement(ot,{userId:e.id,key:e.id})}))}))))}));var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};const ut=(0,l.memo)((function(){var e=(0,f.UO)().id,t=S((function(){var t=0;return(0,L.z)((0,I.at)(3e3,void 0),(0,I.tS)((function(){return Je.findById(e)})),ve((function(e){return(0,L.z)((0,I.kU)(1e3),(0,I.UI)((function(){return t+=1,(0,O.Vp)(ct(ct({},e),{chainableNumber:t}))})))})))}),[e]);return l.createElement("div",null,pe(t,(function(e){return l.createElement("div",null,l.createElement("div",null,e.avatar),l.createElement("div",null,e.email),l.createElement("div",null,e.first_name),l.createElement("div",null,e.id),l.createElement("div",null,e.last_name),l.createElement("div",null,e.chainableNumber))})))})),lt=l.createElement(l.Fragment,null,l.createElement(f.AW,{component:ut,path:"/tags/:id",exact:!0}),l.createElement(f.AW,{component:it,path:E,exact:!0})),st=(0,l.memo)((function(){return l.createElement("div",null,"404: Not Found Page")}));var dt=n(7673),ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var mt,pt,ht=n(9693),vt=n(5258),gt=n(8358),yt=n(2285),bt=n(2318),Et=n(7812),Zt=n(1843),kt=n(8995),wt=n(2795),Tt=n(4741),At=n(3901),Ct=function(){return(Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ot=function(e){var t=e.pageType,n=e.params,r=e.query,a=e.withQuery,o=function(e){return e.map((function(e){return e.startsWith("/")?e.slice(1):e})).join("/")}(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r}([t],null!=n?n:[])),i=(0,dt.J)(location.search.slice(1));return["/"+o,(0,dt.stringify)(Ct(Ct({},a?i:{}),r))].filter(Boolean).join("?")};!function(e){e.CreateTask="createTask",e.CreateFolder="createFolder",e.CreateTag="createTag"}(mt||(mt={})),function(e){e.AddTask="addTask",e.AddFolder="addFolder",e.AddTag="addTag"}(pt||(pt={}));var St=[{name:"Tags",url:E},{name:"Settings",url:k},{name:"Information",url:b}],_t=[{id:(0,j.Z)(),text:"Добавить задачу",type:pt.AddTask,url:Ot({pageType:o.Main,query:{modal:mt.CreateTask}})},{id:(0,j.Z)(),text:"Добавить папку",type:pt.AddFolder,url:Ot({pageType:o.Main,query:{modal:mt.CreateFolder}})},{id:(0,j.Z)(),text:"Добавить тег",type:pt.AddTag,url:Ot({pageType:o.Main,query:{modal:mt.CreateTag}})}],xt=(0,m.Z)((function(e){var t,n;return(0,p.Z)({title:{flexGrow:1,display:"flex",justifyContent:"center"},searchInput:{backgroundColor:e.palette.background.default},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + "+e.spacing(0)+"px)",transition:e.transitions.create("width"),width:"100%"},t[e.breakpoints.up("md")]={width:"20ch"},t),search:(n={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,ht.U1)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,ht.U1)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},n[e.breakpoints.up("sm")]={marginLeft:e.spacing(3),width:"auto"},n)})}));const jt=(0,l.memo)((function(e){var t=e.trigger,n=(0,l.useState)(!1),r=n[0],a=n[1],i=xt(),c=function(){var e=(0,f.TH)();return(0,l.useMemo)((function(){return t=e.pathname,r=(null==t?void 0:t.startsWith("/"))?t.slice(1):null!=t?t:"",n=r,Object.values(o).some((function(e){return e===n}))?r:o.Main;var t,n,r}),[e.pathname])}(),u=(0,f.k6)(),s=T[c];return l.createElement(yt.Z,{appear:!1,direction:"down",in:!t},l.createElement(vt.Z,{position:"sticky"},l.createElement(gt.Z,null,c===o.Main&&l.createElement(l.Fragment,null,r?l.createElement(wt.Z,{onClickAway:function(){a(!1)}},l.createElement("div",{className:i.search},l.createElement(Tt.Z,{placeholder:"Поиск",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"}}))):l.createElement(Et.Z,{edge:"start",color:"inherit",onClick:function(){a(!r)}},l.createElement(kt.Z,null))),c!==o.Main&&l.createElement(Et.Z,{onClick:function(){u.push(Ot({pageType:o.Main}))},edge:"start",color:"inherit"},l.createElement(Zt.Z,null)),l.createElement(bt.Z,{variant:"h6",className:i.title},r?"":s),l.createElement(d.OL,{to:w},l.createElement(At.Z,{src:"https://d.newsweek.com/en/full/425257/02-10-putin-economy.jpg"})))))}));var It=n(3758),Pt=n(8513),Lt=n(3957),Ft=n(8497),Nt=n(2674),$t=n(3657),zt=n(5675),Mt=n(5639);const Ut=(0,l.memo)((function(e){var t=e.items,n=e.children,r=(0,l.useState)(null),a=r[0],o=r[1],i=(0,l.useCallback)((function(e){o(e.currentTarget)}),[o]),c=(0,l.useCallback)((function(){o(null)}),[o]),u=(0,l.useMemo)((function(){return Boolean(a)}),[a]);return l.createElement(l.Fragment,null,l.createElement(zt.Z,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:u,onClose:c},t.map((function(e){return l.createElement(d.OL,{to:e.url,key:(0,j.Z)()},l.createElement(Mt.Z,{onClick:c},e.name))}))),l.createElement("div",{onClick:i},n))}));var Vt=n(8623);const Wt=(0,l.memo)((function(e){var t=e.item,n=e.url,r=e.setOpen,a=(0,f.k6)(),o=(0,l.useCallback)((function(){r(!1),a.push(n)}),[a,r,n]);return l.createElement(z.Z,{button:!0,onClick:o},l.createElement(U.Z,{primary:t}))})),Bt=(0,l.memo)((function(e){var t=e.children,n=l.useState(!1),r=n[0],a=n[1],o=(0,l.useCallback)((function(){a(!0)}),[a]),i=(0,l.useCallback)((function(){a(!1)}),[a]);return l.createElement(l.Fragment,null,l.createElement(Vt.Z,{onClose:i,"aria-labelledby":"simple-dialog-title",open:r},l.createElement($.Z,null,_t.map((function(e){return l.createElement(Wt,{item:e.text,url:e.url,setOpen:a,key:e.id})})))),l.createElement("div",{onClick:o},t))}));var Rt=(0,m.Z)((function(e){return(0,p.Z)({iconRight:{marginRight:e.spacing(2)},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}})}));const Dt=(0,l.memo)((function(e){var t=e.trigger,n=Rt();return l.createElement(yt.Z,{appear:!1,direction:"up",in:!t},l.createElement(vt.Z,{position:"fixed",color:"primary",className:n.appBar},l.createElement(gt.Z,null,l.createElement(Et.Z,{className:n.iconRight,edge:"start",color:"inherit"},l.createElement(d.OL,{to:g},l.createElement(Ft.Z,null))),l.createElement(Et.Z,{edge:"end",color:"inherit"},l.createElement(d.OL,{to:y},l.createElement($t.Z,null))),l.createElement(Bt,null,l.createElement(It.Z,{color:"secondary",className:n.fabButton},l.createElement(Lt.Z,null))),l.createElement("div",{className:n.grow}),l.createElement(Et.Z,{className:n.iconRight,edge:"start",color:"inherit"},l.createElement(d.OL,{to:Z},l.createElement(Nt.Z,null))),l.createElement(Ut,{items:St},l.createElement(Et.Z,{edge:"end",color:"inherit"},l.createElement(Pt.Z,null))))))}));var Gt={modal:function(e){var t=Array.isArray(e)?(0,A.head)(e):e;return null!=t?t:undefined}},Kt=n(2605),qt=n(3564),Ht=n(6856),Jt=n(9525),Xt=n(6083),Yt=n(7387),Qt=n(282),en=n(8756),tn=n(7596),nn=n(3545),rn=(0,Kt.Z)(new Date,"yyyy-MM-dd'T'HH:mm");const an=(0,l.memo)((function(e){var t=e.isOpen,n=(0,f.k6)(),r=(0,qt.TA)({initialValues:{title:"",body:"",start_at:rn,end_at:"",icon:i.AcUnit},onSubmit:function(){}}),a=(0,l.useCallback)((function(){n.push(Ot({pageType:o.Main}))}),[n]);return l.createElement(Vt.Z,{open:t},l.createElement("form",{onSubmit:r.handleSubmit},l.createElement(Xt.Z,{id:"form-dialog-title"},"Создание задачи"),l.createElement(Jt.Z,null,l.createElement(Yt.Z,{autoFocus:!0,value:r.values.title,id:"title",onChange:r.handleChange,margin:"dense",label:"Заголовок",fullWidth:!0}),l.createElement(Yt.Z,{value:r.values.body,id:"body",onChange:r.handleChange,margin:"dense",label:"Описание",rowsMax:4,multiline:!0,fullWidth:!0}),l.createElement(Yt.Z,{value:r.values.icon,id:"icon",name:"icon",onChange:r.handleChange,margin:"dense",label:"Добавить иконку",select:!0,fullWidth:!0},l.createElement(Mt.Z,{value:i.AcUnit},l.createElement(en.Z,{fontSize:"default"})),l.createElement(Mt.Z,{value:i.Apple},l.createElement(tn.Z,{fontSize:"default"})),l.createElement(Mt.Z,{value:i.Apartment},l.createElement(nn.Z,{fontSize:"default"}))),l.createElement(Yt.Z,{id:"start_at",value:r.values.start_at,label:"Начало",type:"datetime-local",onChange:r.handleChange,margin:"dense",InputLabelProps:{shrink:!0},fullWidth:!0}),l.createElement(Yt.Z,{id:"end_at",value:r.values.end_at,label:"Окончание",type:"datetime-local",onChange:r.handleChange,margin:"dense",InputLabelProps:{shrink:!0},fullWidth:!0})),l.createElement(Ht.Z,null,l.createElement(Qt.Z,{onClick:a,color:"primary",type:"button"},"Отмена"),l.createElement(Qt.Z,{color:"primary",type:"submit"},"Создать"))))}));var on=(0,m.Z)((function(){return(0,p.Z)({container:{height:"100hv",display:"flex",flexDirection:"column"}})}));const cn=(0,l.memo)((function(){var e=on(),t=(0,h.Z)(),n=function(e){var t=(0,f.TH)().search;return(0,l.useMemo)((function(){return function(e,t){var n=(0,dt.J)((t||location.search).slice(1));return Object.keys(e).reduce((function(t,r){var a;if(r in e){var o=e[r];return ft(ft({},t),((a={})[r]=null==o?void 0:o(n[r]),a))}return t}),{})}(e,t)}),[t,e])}(Gt).modal,r=(0,l.useMemo)((function(){return n===mt.CreateTask}),[n]);return l.createElement(l.Fragment,null,l.createElement("div",{className:e.container},l.createElement(jt,{trigger:t}),l.createElement(v.Z,null,l.createElement(f.rs,null,B,D,K,Pe,Fe,$e,Me,lt,l.createElement(f.AW,null,l.createElement(st,null)))),l.createElement(Dt,{trigger:t})),l.createElement(an,{isOpen:r}))}));s.render(l.createElement(d.UT,null,l.createElement(cn,null)),document.getElementById("root"))}},0,[[7918,422,263,323]]]);